<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MacOS 16 x HyperOS 3 - StarYAM Edition</title>
    <style>
        /* Reset et variables globales */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --bg-card: rgba(30, 30, 30, 0.8);
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --accent-blue: #007AFF;
            --accent-orange: #FF6900;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(0, 122, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 105, 0, 0.1) 0%, transparent 50%);
        }

        /* Barre de menu sup√©rieure */
        .menu-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 28px;
            background: rgba(20, 20, 20, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 15px;
            z-index: 1000;
            border-bottom: 1px solid var(--glass-border);
        }

        .menu-left {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .menu-item {
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .menu-item:hover {
            color: var(--accent-blue);
        }

        .logo {
            font-weight: bold;
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .menu-right {
            display: flex;
            gap: 15px;
            align-items: center;
            font-size: 13px;
        }

        /* Contenu principal */
        .main-content {
            margin-top: 28px;
            padding: 40px 20px 100px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Spotlight Search */
        .spotlight-container {
            text-align: center;
            margin-bottom: 50px;
        }

        .spotlight-search {
            width: 100%;
            max-width: 600px;
            padding: 15px 25px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            color: var(--text-primary);
            font-size: 16px;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            transition: all 0.3s ease;
        }

        .spotlight-search:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.2);
        }

        /* Carte des sp√©cifications */
        .specs-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .specs-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .spec-item {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid var(--glass-border);
        }

        .spec-item:last-child {
            border-bottom: none;
        }

        .spec-label {
            color: var(--text-secondary);
        }

        .spec-value {
            font-weight: 500;
        }

        /* Section Applications */
        .apps-section {
            margin-bottom: 40px;
        }

        .apps-title {
            font-size: 20px;
            margin-bottom: 20px;
        }

        .apps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 20px;
        }

        .app-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .app-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border-color: var(--accent-blue);
        }

        .app-card:active {
            transform: translateY(-2px);
            transition: transform 0.1s ease;
        }

        .app-icon {
            width: 50px;
            height: 50px;
            margin: 0 auto 10px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .app-name {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* Section Gemini AI */
        .gemini-section {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .gemini-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #4285F4, #EA4335);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .gemini-input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .gemini-input {
            flex: 1;
            padding: 12px 20px;
            background: var(--bg-secondary);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 14px;
        }

        .gemini-input:focus {
            outline: none;
            border-color: #4285F4;
        }

        .gemini-button {
            padding: 12px 30px;
            background: linear-gradient(45deg, #4285F4, #EA4335);
            border: none;
            border-radius: 10px;
            color: white;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .gemini-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(66, 133, 244, 0.4);
        }

        .gemini-response {
            background: var(--bg-secondary);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 20px;
            min-height: 100px;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.6;
        }

        /* Dock */
        .dock {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(30, 30, 30, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 10px;
            display: flex;
            gap: 10px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .dock-item {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 24px;
        }

        .dock-item:hover {
            transform: translateY(-10px) scale(1.2);
        }

        .dock-item:active {
            transform: translateY(-8px) scale(1.15);
            transition: transform 0.1s ease;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        /* Animation pulse pour l'ic√¥ne audio */
        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        #audioControl {
            transition: all 0.3s ease;
        }

        #audioControl:hover {
            transform: scale(1.2);
            color: var(--accent-blue);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .apps-grid {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            }
            
            .dock {
                gap: 5px;
                padding: 8px;
            }
            
            .dock-item {
                width: 40px;
                height: 40px;
            }
        }

        /* Fen√™tre modale pour les applications */
        .app-window {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-width: 800px;
            height: 70%;
            max-height: 600px;
            background: var(--bg-secondary);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            display: none;
            overflow: hidden;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 2000;
        }

        .app-window.active {
            display: block;
            animation: windowOpen 0.3s ease-out;
        }

        @keyframes windowOpen {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .window-header {
            background: rgba(40, 40, 40, 0.9);
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--glass-border);
        }

        .window-title {
            font-size: 14px;
            font-weight: 500;
        }

        .window-controls {
            display: flex;
            gap: 8px;
        }

        .window-control {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .window-close {
            background: #FF5F57;
        }

        .window-minimize {
            background: #FFBD2E;
        }

        .window-maximize {
            background: #27C93F;
        }

        .window-control:hover {
            filter: brightness(1.2);
        }

        .window-content {
            padding: 30px;
            height: calc(100% - 45px);
            overflow-y: auto;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 1999;
        }

        .overlay.active {
            display: block;
        }

        /* Styles pour les jeux */
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        /* Tic Tac Toe */
        .tictactoe-board {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            grid-template-rows: repeat(3, 100px);
            gap: 10px;
            margin: 20px auto;
        }

        .tictactoe-cell {
            background: var(--glass-bg);
            border: 2px solid var(--glass-border);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tictactoe-cell:hover {
            background: rgba(0, 122, 255, 0.1);
            border-color: var(--accent-blue);
        }

        .tictactoe-cell.x {
            color: var(--accent-blue);
        }

        .tictactoe-cell.o {
            color: var(--accent-orange);
        }

        /* 2048 */
        .game2048-board {
            background: var(--glass-bg);
            border: 2px solid var(--glass-border);
            border-radius: 10px;
            padding: 10px;
            display: grid;
            grid-template-columns: repeat(4, 80px);
            grid-template-rows: repeat(4, 80px);
            gap: 10px;
            margin: 20px auto;
        }

        .game2048-tile {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            transition: all 0.2s ease;
        }

        .game2048-tile[data-value="2"] { background: rgba(238, 228, 218, 0.8); color: #776e65; }
        .game2048-tile[data-value="4"] { background: rgba(237, 224, 200, 0.8); color: #776e65; }
        .game2048-tile[data-value="8"] { background: rgba(242, 177, 121, 0.8); color: #f9f6f2; }
        .game2048-tile[data-value="16"] { background: rgba(245, 149, 99, 0.8); color: #f9f6f2; }
        .game2048-tile[data-value="32"] { background: rgba(246, 124, 95, 0.8); color: #f9f6f2; }
        .game2048-tile[data-value="64"] { background: rgba(246, 94, 59, 0.8); color: #f9f6f2; }
        .game2048-tile[data-value="128"] { background: rgba(237, 207, 114, 0.8); color: #f9f6f2; font-size: 20px; }
        .game2048-tile[data-value="256"] { background: rgba(237, 204, 97, 0.8); color: #f9f6f2; font-size: 20px; }
        .game2048-tile[data-value="512"] { background: rgba(237, 200, 80, 0.8); color: #f9f6f2; font-size: 20px; }
        .game2048-tile[data-value="1024"] { background: rgba(237, 197, 63, 0.8); color: #f9f6f2; font-size: 18px; }
        .game2048-tile[data-value="2048"] { background: rgba(237, 194, 46, 0.8); color: #f9f6f2; font-size: 18px; }

        /* Connect 4 */
        .connect4-board {
            background: #1e3a8a;
            border-radius: 10px;
            padding: 10px;
            display: grid;
            grid-template-columns: repeat(7, 60px);
            grid-template-rows: repeat(6, 60px);
            gap: 5px;
            margin: 20px auto;
        }

        .connect4-cell {
            background: white;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .connect4-cell:hover {
            background: rgba(255, 255, 255, 0.8);
        }

        .connect4-cell.red {
            background: #ef4444;
        }

        .connect4-cell.yellow {
            background: #eab308;
        }

        /* Snake */
        .snake-board {
            width: 400px;
            height: 400px;
            background: #111;
            border: 2px solid var(--glass-border);
            border-radius: 10px;
            position: relative;
            margin: 20px auto;
        }

        .snake-segment {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #4ade80;
            border-radius: 4px;
        }

        .snake-food {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #ef4444;
            border-radius: 50%;
        }

        /* Tetris */
        .tetris-board {
            width: 300px;
            height: 600px;
            background: #000;
            border: 2px solid var(--glass-border);
            border-radius: 10px;
            position: relative;
            margin: 20px auto;
            display: grid;
            grid-template-columns: repeat(10, 30px);
            grid-template-rows: repeat(20, 30px);
        }

        .tetris-block {
            width: 30px;
            height: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .tetris-block.filled {
            background: var(--accent-blue);
            border-color: rgba(255, 255, 255, 0.5);
        }

        /* Memory Game */
        .memory-board {
            display: grid;
            grid-template-columns: repeat(4, 100px);
            grid-template-rows: repeat(4, 100px);
            gap: 10px;
            margin: 20px auto;
        }

        .memory-card {
            background: var(--glass-bg);
            border: 2px solid var(--glass-border);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .memory-card:hover {
            transform: scale(1.05);
            border-color: var(--accent-blue);
        }

        .memory-card.flipped {
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-orange));
        }

        .memory-card.matched {
            opacity: 0.5;
            cursor: default;
        }

        /* Game controls */
        .game-controls {
            text-align: center;
            margin: 20px 0;
        }

        .game-button {
            padding: 10px 30px;
            margin: 0 10px;
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-orange));
            border: none;
            border-radius: 10px;
            color: white;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .game-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 122, 255, 0.4);
        }

        .game-score {
            font-size: 18px;
            margin: 10px 0;
            color: var(--text-primary);
        }

        .game-message {
            font-size: 20px;
            margin: 10px 0;
            font-weight: bold;
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body>
    <!-- Musique de fond avec plusieurs formats pour compatibilit√© -->
    <audio id="backgroundMusic" loop preload="auto">
        <source src="https://github.com/AdelWolf5/MacOS-16-x-HyperOS-3/raw/refs/heads/main/Silhouettes%20(Original%20Mix).mp3" type="audio/mpeg">
        <source src="https://github.com/AdelWolf5/MacOS-16-x-HyperOS-3/raw/refs/heads/main/Silhouettes%20(Original%20Mix).mp3" type="audio/mp3">
        Votre navigateur ne supporte pas l'√©l√©ment audio.
    </audio>

    <!-- Barre de menu -->
    <div class="menu-bar">
        <div class="menu-left">
            <span class="menu-item logo">‚≠ê StarYAM</span>
            <span class="menu-item">Finder</span>
            <span class="menu-item">Fichier</span>
            <span class="menu-item">√âdition</span>
            <span class="menu-item">Affichage</span>
            <span class="menu-item">HyperOS</span>
        </div>
        <div class="menu-right">
            <span id="audioControl" style="cursor: pointer;" title="Cliquez pour activer la musique">üîá</span>
            <span>üîã 100%</span>
            <span id="clock">--:--</span>
        </div>
    </div>

    <!-- Contenu principal -->
    <div class="main-content">
        <!-- Recherche Spotlight x HyperOS -->
        <div class="spotlight-container fade-in">
            <input type="text" class="spotlight-search" placeholder="üîç Recherche Spotlight x HyperOS...">
        </div>

        <!-- Sp√©cifications syst√®me -->
        <div class="specs-card fade-in">
            <h2 class="specs-title">Sp√©cifications Syst√®me</h2>
            <div class="spec-item">
                <span class="spec-label">CPU</span>
                <span class="spec-value">Apple M5 Ultra Fusion</span>
            </div>
            <div class="spec-item">
                <span class="spec-label">GPU</span>
                <span class="spec-value">RTX 6090 Super</span>
            </div>
            <div class="spec-item">
                <span class="spec-label">Carte m√®re</span>
                <span class="spec-value">Xiaomi HyperBoard</span>
            </div>
            <div class="spec-item">
                <span class="spec-label">OS</span>
                <span class="spec-value">MacOS 16 + HyperOS 3</span>
            </div>
        </div>

        <!-- Section Applications -->
        <div class="apps-section fade-in">
            <h2 class="apps-title">Applications</h2>
            <div class="apps-grid">
                <div class="app-card" data-app="safari">
                    <div class="app-icon" style="background: linear-gradient(45deg, #007AFF, #5AC8FA);">üåê</div>
                    <div class="app-name">Safari</div>
                </div>
                <div class="app-card" data-app="mi-control">
                    <div class="app-icon" style="background: linear-gradient(45deg, #FF6900, #FFB800);">üì±</div>
                    <div class="app-name">Mi Control</div>
                </div>
                <div class="app-card" data-app="final-cut">
                    <div class="app-icon" style="background: linear-gradient(45deg, #B620E0, #F7B500);">üé¨</div>
                    <div class="app-name">Final Cut Pro</div>
                </div>
                <div class="app-card" data-app="hyperos-settings">
                    <div class="app-icon" style="background: linear-gradient(45deg, #FF3B30, #FF9500);">‚öôÔ∏è</div>
                    <div class="app-name">HyperOS Settings</div>
                </div>
                <div class="app-card" data-app="app-store">
                    <div class="app-icon" style="background: linear-gradient(45deg, #007AFF, #34C759);">üì¶</div>
                    <div class="app-name">App Store</div>
                </div>
                <div class="app-card" data-app="mishare">
                    <div class="app-icon" style="background: linear-gradient(45deg, #FF6900, #007AFF);">üì§</div>
                    <div class="app-name">MiShare</div>
                </div>
                <div class="app-card" data-app="terminal">
                    <div class="app-icon" style="background: linear-gradient(45deg, #000000, #333333);">üíª</div>
                    <div class="app-name">Terminal</div>
                </div>
                <div class="app-card" data-app="music">
                    <div class="app-icon" style="background: linear-gradient(45deg, #FA2D48, #F95C87);">üéµ</div>
                    <div class="app-name">Music</div>
                </div>
            </div>
        </div>

        <!-- Section Jeux -->
        <div class="apps-section fade-in">
            <h2 class="apps-title">Jeux</h2>
            <div class="apps-grid">
                <div class="app-card" data-app="tictactoe">
                    <div class="app-icon" style="background: linear-gradient(45deg, #3B82F6, #8B5CF6);">‚ùå</div>
                    <div class="app-name">Tic Tac Toe</div>
                </div>
                <div class="app-card" data-app="game2048">
                    <div class="app-icon" style="background: linear-gradient(45deg, #F59E0B, #EF4444);">üî¢</div>
                    <div class="app-name">2048</div>
                </div>
                <div class="app-card" data-app="connect4">
                    <div class="app-icon" style="background: linear-gradient(45deg, #EF4444, #F59E0B);">üî¥</div>
                    <div class="app-name">Puissance 4</div>
                </div>
                <div class="app-card" data-app="snake">
                    <div class="app-icon" style="background: linear-gradient(45deg, #10B981, #34D399);">üêç</div>
                    <div class="app-name">Snake</div>
                </div>
                <div class="app-card" data-app="tetris">
                    <div class="app-icon" style="background: linear-gradient(45deg, #6366F1, #A78BFA);">üß±</div>
                    <div class="app-name">Tetris</div>
                </div>
                <div class="app-card" data-app="memory">
                    <div class="app-icon" style="background: linear-gradient(45deg, #EC4899, #F472B6);">üß†</div>
                    <div class="app-name">Memory</div>
                </div>
            </div>
        </div>

        <!-- Section Gemini AI -->
        <div class="gemini-section fade-in">
            <h2 class="gemini-title">Assistant StarYAM AI</h2>
            <div class="gemini-input-container">
                <input type="text" class="gemini-input" id="geminiInput" placeholder="Essaye : salut, blague, syst√®me, aide, m√©t√©o, starYAM...">
                <button class="gemini-button" onclick="sendToGemini()">Envoyer</button>
            </div>
            <div class="gemini-response" id="geminiResponse">Bonjour ! Je suis l'assistant StarYAM AI. Demandez-moi n'importe quoi ! üåü</div>
        </div>
    </div>

    <!-- Overlay pour les fen√™tres -->
    <div class="overlay" id="overlay"></div>

    <!-- Fen√™tre d'application -->
    <div class="app-window" id="appWindow">
        <div class="window-header">
            <div class="window-title" id="windowTitle">Application</div>
            <div class="window-controls">
                <div class="window-control window-close" onclick="closeApp()"></div>
                <div class="window-control window-minimize"></div>
                <div class="window-control window-maximize"></div>
            </div>
        </div>
        <div class="window-content" id="windowContent">
            <!-- Le contenu de l'application sera inject√© ici -->
        </div>
    </div>

    <!-- Dock -->
    <div class="dock">
        <div class="dock-item" style="background: linear-gradient(45deg, #007AFF, #5AC8FA);" onclick="openApp('safari')">üåê</div>
        <div class="dock-item" style="background: linear-gradient(45deg, #FF6900, #FFB800);" onclick="openApp('mi-control')">üì±</div>
        <div class="dock-item" style="background: linear-gradient(45deg, #B620E0, #F7B500);" onclick="openApp('final-cut')">üé¨</div>
        <div class="dock-item" style="background: linear-gradient(45deg, #000000, #333333);" onclick="openApp('terminal')">üíª</div>
        <div class="dock-item" style="background: linear-gradient(45deg, #FA2D48, #F95C87);" onclick="openApp('music')">üéµ</div>
        <div class="dock-item" style="background: linear-gradient(45deg, #3B82F6, #8B5CF6);" onclick="openApp('tictactoe')">üéÆ</div>
    </div>

    <script>
        // Horloge en temps r√©el
        function updateClock() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            document.getElementById('clock').textContent = `${hours}:${minutes}`;
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Gestion de l'audio
        let audioPlaying = false;
        const backgroundMusic = document.getElementById('backgroundMusic');
        const audioControl = document.getElementById('audioControl');
        
        // Fonction pour basculer l'audio
        function toggleAudio() {
            if (audioPlaying) {
                backgroundMusic.pause();
                audioControl.textContent = 'üîá';
                audioControl.title = 'Cliquez pour activer la musique';
                audioPlaying = false;
            } else {
                backgroundMusic.play().then(() => {
                    audioControl.textContent = 'üîä';
                    audioControl.title = 'Cliquez pour couper la musique';
                    audioPlaying = true;
                    
                    // Afficher une notification de lecture
                    const musicNotif = document.createElement('div');
                    musicNotif.style.cssText = `
                        position: fixed;
                        bottom: 20px;
                        left: 20px;
                        background: linear-gradient(135deg, rgba(250, 45, 72, 0.9), rgba(249, 92, 135, 0.9));
                        color: white;
                        padding: 15px 20px;
                        border-radius: 10px;
                        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
                        z-index: 3000;
                        animation: slideInLeft 0.5s ease-out;
                        display: flex;
                        align-items: center;
                        gap: 10px;
                    `;
                    musicNotif.innerHTML = `
                        <span style="font-size: 20px;">üéµ</span>
                        <div>
                            <strong>Silhouettes (Original Mix)</strong><br>
                            <small style="opacity: 0.8;">En cours de lecture...</small>
                        </div>
                    `;
                    document.body.appendChild(musicNotif);
                    
                    // Animation
                    const slideStyle = document.createElement('style');
                    slideStyle.textContent = `
                        @keyframes slideInLeft {
                            from {
                                transform: translateX(-100%);
                                opacity: 0;
                            }
                            to {
                                transform: translateX(0);
                                opacity: 1;
                            }
                        }
                    `;
                    document.head.appendChild(slideStyle);
                    
                    setTimeout(() => {
                        musicNotif.style.animation = 'slideInLeft 0.5s ease-out reverse';
                        setTimeout(() => musicNotif.remove(), 500);
                    }, 3000);
                }).catch(error => {
                    console.error('Erreur de lecture audio:', error);
                    // Afficher un message d'erreur temporaire
                    audioControl.textContent = '‚ö†Ô∏è';
                    audioControl.title = 'Erreur de lecture - V√©rifiez votre connexion';
                    setTimeout(() => {
                        audioControl.textContent = 'üîá';
                    }, 2000);
                });
            }
        }
        
        // √âcouteur d'√©v√©nement pour le contr√¥le audio
        audioControl.addEventListener('click', toggleAudio);
        
        // Essayer de jouer automatiquement au premier clic sur la page
        let firstInteraction = true;
        document.addEventListener('click', function() {
            if (firstInteraction && !audioPlaying) {
                firstInteraction = false;
                // Afficher une notification visuelle
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 50px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: rgba(0, 122, 255, 0.9);
                    color: white;
                    padding: 10px 20px;
                    border-radius: 8px;
                    z-index: 3000;
                    animation: fadeInOut 3s ease-out;
                `;
                notification.textContent = 'üéµ Cliquez sur l\'ic√¥ne audio pour activer la musique';
                document.body.appendChild(notification);
                
                // Ajouter l'animation
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes fadeInOut {
                        0% { opacity: 0; transform: translateX(-50%) translateY(-10px); }
                        20% { opacity: 1; transform: translateX(-50%) translateY(0); }
                        80% { opacity: 1; transform: translateX(-50%) translateY(0); }
                        100% { opacity: 0; transform: translateX(-50%) translateY(-10px); }
                    }
                `;
                document.head.appendChild(style);
                
                // Faire pulser l'ic√¥ne audio au d√©but
                audioControl.style.animation = 'pulse 2s infinite';
                
                setTimeout(() => {
                    notification.remove();
                    // Arr√™ter l'animation pulse apr√®s la notification
                    audioControl.style.animation = '';
                }, 3000);
            }
        });

        // Rendre toggleAudio global pour l'app Music
        window.toggleAudioFromApp = toggleAudio;
        
        // Contr√¥le du volume
        document.addEventListener('input', function(e) {
            if (e.target.id === 'volumeControl') {
                backgroundMusic.volume = e.target.value / 100;
            }
        });

        async function sendToGemini() {
            const input = document.getElementById('geminiInput');
            const response = document.getElementById('geminiResponse');
            const prompt = input.value.trim();

            if (!prompt) {
                response.textContent = "Veuillez entrer une question ou une commande.";
                return;
            }

            // Afficher un message de chargement avec animation
            response.innerHTML = '<span style="opacity: 0.6;">Traitement en cours...</span>';

            // Simuler un d√©lai de traitement
            setTimeout(() => {
                // Assistant IA int√©gr√© avec r√©ponses intelligentes
                const responses = {
                    // Salutations
                    'bonjour': "Bonjour ! Bienvenue sur MacOS 16 x HyperOS 3 - StarYAM Edition. Comment puis-je vous aider aujourd'hui ?",
                    'salut': "Salut ! Ravi de vous voir sur cette interface futuriste. Que puis-je faire pour vous ?",
                    'bonsoir': "Bonsoir ! J'esp√®re que vous passez une excellente soir√©e. En quoi puis-je vous √™tre utile ?",
                    
                    // Questions sur le syst√®me
                    'syst√®me': "Vous utilisez MacOS 16 x HyperOS 3 avec un processeur Apple M5 Ultra Fusion et une RTX 6090 Super. Une configuration de r√™ve !",
                    'sp√©cifications': "Votre syst√®me : CPU Apple M5 Ultra Fusion, GPU RTX 6090 Super, Carte m√®re Xiaomi HyperBoard, OS MacOS 16 + HyperOS 3. Performance maximale garantie !",
                    
                    // Blagues
                    'blague': "Pourquoi les d√©veloppeurs pr√©f√®rent le mode sombre ? Parce que la lumi√®re attire les bugs ! üêõ",
                    'dr√¥le': "Savez-vous ce qui est mieux qu'un Mac ? Un Mac avec HyperOS ! C'est comme avoir le beurre ET l'argent du beurre ! üòÑ",
                    
                    // Aide
                    'aide': "Je peux r√©pondre √† vos questions, raconter des blagues, donner des informations sur le syst√®me, ou discuter de technologie. Essayez 'm√©t√©o', 'heure', 'musique' ou posez-moi n'importe quelle question !",
                    'commandes': "Commandes disponibles : salut, syst√®me, blague, m√©t√©o, heure, musique, applications, conseil, motivation, technologie...",
                    
                    // Autres
                    'm√©t√©o': "Avec cette interface futuriste, m√™me la pluie semble plus belle ! ‚òÄÔ∏è Temp√©rature optimale pour coder : 21¬∞C",
                    'heure': `Il est actuellement ${new Date().toLocaleTimeString('fr-FR')}. Le temps file quand on utilise une belle interface !`,
                    'musique': "J'esp√®re que vous appr√©ciez 'Silhouettes (Original Mix)' en fond ! Une m√©lodie parfaite pour cette √©dition StarYAM üéµ",
                    'applications': "Vous avez acc√®s √† Safari, Mi Control, Final Cut Pro, HyperOS Settings, App Store, MiShare, Terminal et Music. Que de possibilit√©s !",
                    'conseil': "Mon conseil du jour : Profitez de la puissance de votre M5 Ultra Fusion pour cr√©er des choses extraordinaires !",
                    'motivation': "Vous √™tes sur la meilleure fusion OS jamais cr√©√©e ! Avec MacOS 16 x HyperOS 3, rien n'est impossible ! üöÄ",
                    'technologie': "La fusion MacOS x HyperOS repr√©sente le futur : l'√©l√©gance d'Apple combin√©e √† l'innovation de Xiaomi. Une r√©volution !",
                    'adel': "Adel a cr√©√© quelque chose d'extraordinaire avec cette interface StarYAM Edition ! Un vrai visionnaire du design futuriste ! ‚≠ê",
                    'starYAM': "StarYAM Edition - O√π la technologie rencontre l'art. Une cr√©ation unique qui repousse les limites du possible !",
                    'jeux': "D√©couvrez notre collection de jeux classiques : Tic Tac Toe, 2048, Puissance 4, Snake, Tetris et Memory ! Tous optimis√©s pour votre exp√©rience StarYAM.",
                    'tic tac toe': "Le Tic Tac Toe est maintenant disponible ! Un classique intemporel avec une interface moderne. D√©fiez l'IA !",
                    '2048': "Le jeu 2048 vous attend ! Combinez les tuiles pour atteindre 2048. Addictif et stimulant !",
                    'puissance 4': "Puissance 4 est pr√™t ! Alignez 4 jetons de votre couleur pour gagner. Strat√©gie pure !",
                    'snake': "Snake est charg√© ! Guidez le serpent et mangez les pommes. Un classique des ann√©es 90 revisit√© !",
                    'tetris': "Tetris vous attend ! Empilez les blocs et faites des lignes. Le puzzle game ultime !",
                    'memory': "Memory est disponible ! Testez votre m√©moire en trouvant les paires. Parfait pour l'entra√Ænement c√©r√©bral !"
                };

                // Recherche intelligente dans les r√©ponses
                let aiResponse = null;
                const lowerPrompt = prompt.toLowerCase();
                
                // Recherche exacte
                if (responses[lowerPrompt]) {
                    aiResponse = responses[lowerPrompt];
                } else {
                    // Recherche par mots-cl√©s
                    for (const [key, value] of Object.entries(responses)) {
                        if (lowerPrompt.includes(key)) {
                            aiResponse = value;
                            break;
                        }
                    }
                }

                // R√©ponse par d√©faut intelligente
                if (!aiResponse) {
                    const defaultResponses = [
                        `"${prompt}" - Excellente question ! Sur MacOS 16 x HyperOS 3, tout est possible. Cette interface futuriste est con√ßue pour repousser les limites.`,
                        `Concernant "${prompt}", je dirais que c'est exactement le genre de r√©flexion innovante qui correspond √† l'esprit StarYAM Edition !`,
                        `Votre demande "${prompt}" est not√©e. Avec la puissance du M5 Ultra Fusion, nous pouvons accomplir des choses extraordinaires !`,
                        `"${prompt}" - Int√©ressant ! Cette fusion MacOS x HyperOS ouvre tellement de possibilit√©s. L'avenir est entre vos mains !`,
                        `Pour "${prompt}", je vous sugg√®re d'explorer les capacit√©s infinies de votre syst√®me. Vous avez la meilleure configuration possible !`
                    ];
                    aiResponse = defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
                }

                // Afficher la r√©ponse avec effet de frappe
                response.innerHTML = '';
                let i = 0;
                const typeWriter = setInterval(() => {
                    if (i < aiResponse.length) {
                        response.textContent += aiResponse.charAt(i);
                        i++;
                    } else {
                        clearInterval(typeWriter);
                    }
                }, 20);

            }, 1000);

            // Vider le champ de saisie
            input.value = '';
        }

        // Permettre l'envoi avec la touche Entr√©e
        document.getElementById('geminiInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendToGemini();
            }
        });

        // Animation des √©l√©ments au chargement
        window.addEventListener('load', function() {
            const elements = document.querySelectorAll('.fade-in');
            elements.forEach((el, index) => {
                setTimeout(() => {
                    el.style.opacity = '1';
                }, index * 100);
            });
        });

        // Variables globales pour les jeux
        let currentGame = null;
        let gameState = {};

        // Tic Tac Toe Logic
        function initTicTacToe() {
            gameState = {
                board: Array(9).fill(null),
                currentPlayer: 'X',
                winner: null,
                gameOver: false
            };
            renderTicTacToe();
        }

        function renderTicTacToe() {
            const content = `
                <div class="game-container">
                    <h2>Tic Tac Toe</h2>
                    <div class="game-message">${gameState.winner ? `${gameState.winner} a gagn√© !` : (gameState.gameOver ? 'Match nul !' : `Au tour de ${gameState.currentPlayer}`)}</div>
                    <div class="tictactoe-board" id="tictactoe-board">
                        ${gameState.board.map((cell, index) => `
                            <div class="tictactoe-cell ${cell ? cell.toLowerCase() : ''}" onclick="tictactoeMove(${index})">${cell || ''}</div>
                        `).join('')}
                    </div>
                    <div class="game-controls">
                        <button class="game-button" onclick="initTicTacToe()">Nouvelle partie</button>
                    </div>
                </div>
            `;
            document.getElementById('windowContent').innerHTML = content;
        }

        function tictactoeMove(index) {
            if (gameState.board[index] || gameState.gameOver) return;
            
            gameState.board[index] = gameState.currentPlayer;
            
            if (checkTicTacToeWinner()) {
                gameState.winner = gameState.currentPlayer;
                gameState.gameOver = true;
            } else if (gameState.board.every(cell => cell)) {
                gameState.gameOver = true;
            } else {
                gameState.currentPlayer = gameState.currentPlayer === 'X' ? 'O' : 'X';
                // IA simple pour O
                if (gameState.currentPlayer === 'O' && !gameState.gameOver) {
                    setTimeout(() => {
                        const emptyCells = gameState.board.map((cell, i) => cell === null ? i : null).filter(i => i !== null);
                        if (emptyCells.length > 0) {
                            const randomIndex = emptyCells[Math.floor(Math.random() * emptyCells.length)];
                            tictactoeMove(randomIndex);
                        }
                    }, 500);
                }
            }
            
            renderTicTacToe();
        }

        function checkTicTacToeWinner() {
            const lines = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8], // Horizontal
                [0, 3, 6], [1, 4, 7], [2, 5, 8], // Vertical
                [0, 4, 8], [2, 4, 6] // Diagonal
            ];
            
            return lines.some(line => {
                const [a, b, c] = line;
                return gameState.board[a] && gameState.board[a] === gameState.board[b] && gameState.board[a] === gameState.board[c];
            });
        }

        window.tictactoeMove = tictactoeMove;
        window.initTicTacToe = initTicTacToe;

        // 2048 Logic
        function init2048() {
            gameState = {
                board: Array(4).fill().map(() => Array(4).fill(0)),
                score: 0,
                gameOver: false
            };
            addNew2048Tile();
            addNew2048Tile();
            render2048();
        }

        function render2048() {
            const content = `
                <div class="game-container">
                    <h2>2048</h2>
                    <div class="game-score">Score: ${gameState.score}</div>
                    ${gameState.gameOver ? '<div class="game-message">Game Over!</div>' : ''}
                    <div class="game2048-board">
                        ${gameState.board.flat().map(value => `
                            <div class="game2048-tile" ${value ? `data-value="${value}"` : ''}>${value || ''}</div>
                        `).join('')}
                    </div>
                    <div class="game-controls">
                        <button class="game-button" onclick="init2048()">Nouvelle partie</button>
                        <p style="margin-top: 10px;">Utilisez les fl√®ches du clavier pour jouer</p>
                    </div>
                </div>
            `;
            document.getElementById('windowContent').innerHTML = content;
        }

        function addNew2048Tile() {
            const emptyCells = [];
            for (let i = 0; i < 4; i++) {
                for (let j = 0; j < 4; j++) {
                    if (gameState.board[i][j] === 0) {
                        emptyCells.push({ x: i, y: j });
                    }
                }
            }
            if (emptyCells.length > 0) {
                const { x, y } = emptyCells[Math.floor(Math.random() * emptyCells.length)];
                gameState.board[x][y] = Math.random() < 0.9 ? 2 : 4;
            }
        }

        function move2048(direction) {
            if (gameState.gameOver) return;
            
            let moved = false;
            const newBoard = gameState.board.map(row => [...row]);
            
            if (direction === 'left' || direction === 'right') {
                for (let i = 0; i < 4; i++) {
                    let row = newBoard[i];
                    if (direction === 'right') row = row.reverse();
                    
                    // Move tiles
                    row = row.filter(val => val !== 0);
                    
                    // Merge tiles
                    for (let j = 0; j < row.length - 1; j++) {
                        if (row[j] === row[j + 1]) {
                            row[j] *= 2;
                            gameState.score += row[j];
                            row.splice(j + 1, 1);
                        }
                    }
                    
                    // Fill with zeros
                    while (row.length < 4) row.push(0);
                    
                    if (direction === 'right') row = row.reverse();
                    
                    if (row.join(',') !== gameState.board[i].join(',')) moved = true;
                    newBoard[i] = row;
                }
            } else {
                // Transpose for up/down movement
                for (let j = 0; j < 4; j++) {
                    let col = [];
                    for (let i = 0; i < 4; i++) {
                        col.push(newBoard[i][j]);
                    }
                    
                    if (direction === 'down') col = col.reverse();
                    
                    // Move tiles
                    col = col.filter(val => val !== 0);
                    
                    // Merge tiles
                    for (let i = 0; i < col.length - 1; i++) {
                        if (col[i] === col[i + 1]) {
                            col[i] *= 2;
                            gameState.score += col[i];
                            col.splice(i + 1, 1);
                        }
                    }
                    
                    // Fill with zeros
                    while (col.length < 4) col.push(0);
                    
                    if (direction === 'down') col = col.reverse();
                    
                    for (let i = 0; i < 4; i++) {
                        if (col[i] !== gameState.board[i][j]) moved = true;
                        newBoard[i][j] = col[i];
                    }
                }
            }
            
            if (moved) {
                gameState.board = newBoard;
                addNew2048Tile();
                
                // Check game over
                if (!canMove2048()) {
                    gameState.gameOver = true;
                }
                
                render2048();
            }
        }

        function canMove2048() {
            // Check for empty cells
            for (let i = 0; i < 4; i++) {
                for (let j = 0; j < 4; j++) {
                    if (gameState.board[i][j] === 0) return true;
                    
                    // Check adjacent cells
                    if (i < 3 && gameState.board[i][j] === gameState.board[i + 1][j]) return true;
                    if (j < 3 && gameState.board[i][j] === gameState.board[i][j + 1]) return true;
                }
            }
            return false;
        }

        window.init2048 = init2048;

        // Connect 4 Logic
        function initConnect4() {
            gameState = {
                board: Array(6).fill().map(() => Array(7).fill(null)),
                currentPlayer: 'red',
                winner: null,
                gameOver: false
            };
            renderConnect4();
        }

        function renderConnect4() {
            const content = `
                <div class="game-container">
                    <h2>Puissance 4</h2>
                    <div class="game-message">${gameState.winner ? `${gameState.winner === 'red' ? 'Rouge' : 'Jaune'} a gagn√© !` : `Au tour de ${gameState.currentPlayer === 'red' ? 'Rouge' : 'Jaune'}`}</div>
                    <div class="connect4-board">
                        ${gameState.board.flat().map((cell, index) => {
                            const row = Math.floor(index / 7);
                            const col = index % 7;
                            return `<div class="connect4-cell ${cell || ''}" onclick="connect4Move(${col})"></div>`;
                        }).join('')}
                    </div>
                    <div class="game-controls">
                        <button class="game-button" onclick="initConnect4()">Nouvelle partie</button>
                    </div>
                </div>
            `;
            document.getElementById('windowContent').innerHTML = content;
        }

        function connect4Move(col) {
            if (gameState.gameOver) return;
            
            // Find the lowest empty row in the column
            for (let row = 5; row >= 0; row--) {
                if (!gameState.board[row][col]) {
                    gameState.board[row][col] = gameState.currentPlayer;
                    
                    if (checkConnect4Winner(row, col)) {
                        gameState.winner = gameState.currentPlayer;
                        gameState.gameOver = true;
                    } else {
                        gameState.currentPlayer = gameState.currentPlayer === 'red' ? 'yellow' : 'red';
                    }
                    
                    renderConnect4();
                    break;
                }
            }
        }

        function checkConnect4Winner(row, col) {
            const player = gameState.board[row][col];
            
            // Check horizontal
            let count = 1;
            for (let i = col - 1; i >= 0 && gameState.board[row][i] === player; i--) count++;
            for (let i = col + 1; i < 7 && gameState.board[row][i] === player; i++) count++;
            if (count >= 4) return true;
            
            // Check vertical
            count = 1;
            for (let i = row + 1; i < 6 && gameState.board[i][col] === player; i++) count++;
            if (count >= 4) return true;
            
            // Check diagonal (top-left to bottom-right)
            count = 1;
            for (let i = 1; row - i >= 0 && col - i >= 0 && gameState.board[row - i][col - i] === player; i++) count++;
            for (let i = 1; row + i < 6 && col + i < 7 && gameState.board[row + i][col + i] === player; i++) count++;
            if (count >= 4) return true;
            
            // Check diagonal (bottom-left to top-right)
            count = 1;
            for (let i = 1; row + i < 6 && col - i >= 0 && gameState.board[row + i][col - i] === player; i++) count++;
            for (let i = 1; row - i >= 0 && col + i < 7 && gameState.board[row - i][col + i] === player; i++) count++;
            if (count >= 4) return true;
            
            return false;
        }

        window.connect4Move = connect4Move;
        window.initConnect4 = initConnect4;

        // Snake Logic
        function initSnake() {
            gameState = {
                snake: [{ x: 10, y: 10 }],
                direction: { x: 1, y: 0 },
                food: generateFood(),
                score: 0,
                gameOver: false,
                gameLoop: null
            };
            renderSnake();
            startSnakeGame();
        }

        function generateFood() {
            return {
                x: Math.floor(Math.random() * 20),
                y: Math.floor(Math.random() * 20)
            };
        }

        function renderSnake() {
            const content = `
                <div class="game-container">
                    <h2>Snake</h2>
                    <div class="game-score">Score: ${gameState.score}</div>
                    ${gameState.gameOver ? '<div class="game-message">Game Over!</div>' : ''}
                    <div class="snake-board" id="snake-board">
                        ${gameState.snake.map(segment => `
                            <div class="snake-segment" style="left: ${segment.x * 20}px; top: ${segment.y * 20}px;"></div>
                        `).join('')}
                        <div class="snake-food" style="left: ${gameState.food.x * 20}px; top: ${gameState.food.y * 20}px;"></div>
                    </div>
                    <div class="game-controls">
                        <button class="game-button" onclick="initSnake()">Nouvelle partie</button>
                        <p style="margin-top: 10px;">Utilisez les fl√®ches du clavier pour jouer</p>
                    </div>
                </div>
            `;
            document.getElementById('windowContent').innerHTML = content;
        }

        function startSnakeGame() {
            if (gameState.gameLoop) clearInterval(gameState.gameLoop);
            
            gameState.gameLoop = setInterval(() => {
                if (!gameState.gameOver) {
                    moveSnake();
                }
            }, 100);
        }

        function moveSnake() {
            const head = { ...gameState.snake[0] };
            head.x += gameState.direction.x;
            head.y += gameState.direction.y;
            
            // Check walls
            if (head.x < 0 || head.x >= 20 || head.y < 0 || head.y >= 20) {
                gameState.gameOver = true;
                clearInterval(gameState.gameLoop);
                renderSnake();
                return;
            }
            
            // Check self collision
            if (gameState.snake.some(segment => segment.x === head.x && segment.y === head.y)) {
                gameState.gameOver = true;
                clearInterval(gameState.gameLoop);
                renderSnake();
                return;
            }
            
            gameState.snake.unshift(head);
            
            // Check food
            if (head.x === gameState.food.x && head.y === gameState.food.y) {
                gameState.score += 10;
                gameState.food = generateFood();
            } else {
                gameState.snake.pop();
            }
            
            renderSnake();
        }

        window.initSnake = initSnake;

        // Memory Logic
        function initMemory() {
            const emojis = ['üçé', 'üçä', 'üçã', 'üçá', 'üçì', 'üçë', 'üçí', 'ü•ù'];
            const cards = [...emojis, ...emojis];
            
            // Shuffle cards
            for (let i = cards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [cards[i], cards[j]] = [cards[j], cards[i]];
            }
            
            gameState = {
                cards: cards.map((emoji, index) => ({
                    id: index,
                    emoji: emoji,
                    flipped: false,
                    matched: false
                })),
                firstCard: null,
                secondCard: null,
                moves: 0,
                matches: 0,
                processing: false
            };
            
            renderMemory();
        }

        function renderMemory() {
            const content = `
                <div class="game-container">
                    <h2>Memory</h2>
                    <div class="game-score">Coups: ${gameState.moves} | Paires: ${gameState.matches}/8</div>
                    ${gameState.matches === 8 ? '<div class="game-message">F√©licitations ! Vous avez gagn√© !</div>' : ''}
                    <div class="memory-board">
                        ${gameState.cards.map(card => `
                            <div class="memory-card ${card.flipped || card.matched ? 'flipped' : ''} ${card.matched ? 'matched' : ''}" 
                                 onclick="flipCard(${card.id})">
                                ${card.flipped || card.matched ? card.emoji : '?'}
                            </div>
                        `).join('')}
                    </div>
                    <div class="game-controls">
                        <button class="game-button" onclick="initMemory()">Nouvelle partie</button>
                    </div>
                </div>
            `;
            document.getElementById('windowContent').innerHTML = content;
        }

        function flipCard(id) {
            if (gameState.processing) return;
            
            const card = gameState.cards[id];
            if (card.flipped || card.matched) return;
            
            card.flipped = true;
            
            if (!gameState.firstCard) {
                gameState.firstCard = card;
            } else if (!gameState.secondCard) {
                gameState.secondCard = card;
                gameState.moves++;
                
                if (gameState.firstCard.emoji === gameState.secondCard.emoji) {
                    gameState.firstCard.matched = true;
                    gameState.secondCard.matched = true;
                    gameState.matches++;
                    gameState.firstCard = null;
                    gameState.secondCard = null;
                } else {
                    gameState.processing = true;
                    setTimeout(() => {
                        gameState.firstCard.flipped = false;
                        gameState.secondCard.flipped = false;
                        gameState.firstCard = null;
                        gameState.secondCard = null;
                        gameState.processing = false;
                        renderMemory();
                    }, 1000);
                }
            }
            
            renderMemory();
        }

        window.flipCard = flipCard;
        window.initMemory = initMemory;

        // Tetris Logic (simplified)
        function initTetris() {
            gameState = {
                board: Array(20).fill().map(() => Array(10).fill(0)),
                currentPiece: null,
                score: 0,
                lines: 0,
                gameOver: false,
                gameLoop: null
            };
            renderTetris();
        }

        function renderTetris() {
            const content = `
                <div class="game-container">
                    <h2>Tetris</h2>
                    <div class="game-score">Score: ${gameState.score || 0} | Lignes: ${gameState.lines || 0}</div>
                    <div class="tetris-board">
                        ${Array(200).fill().map((_, i) => `
                            <div class="tetris-block ${gameState.board && gameState.board[Math.floor(i/10)][i%10] ? 'filled' : ''}"></div>
                        `).join('')}
                    </div>
                    <div class="game-controls">
                        <button class="game-button" onclick="initTetris()">Nouvelle partie</button>
                        <p style="margin-top: 10px;">Utilisez les fl√®ches du clavier pour jouer</p>
                    </div>
                </div>
            `;
            document.getElementById('windowContent').innerHTML = content;
        }

        window.initTetris = initTetris;

        // Contenu des applications
        const appContents = {
            'safari': {
                title: 'Safari',
                content: `
                    <h2>Safari - Navigateur Web Ultra Rapide</h2>
                    <p>Bienvenue dans Safari optimis√© pour MacOS 16 x HyperOS 3 !</p>
                    <div style="margin: 20px 0;">
                        <input type="text" placeholder="Rechercher ou saisir une URL..." style="width: 100%; padding: 10px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; color: white;">
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h3>Favoris</h3>
                        <p>‚Ä¢ Apple.com<br>‚Ä¢ Xiaomi HyperOS<br>‚Ä¢ StarYAM Technologies<br>‚Ä¢ GitHub</p>
                    </div>
                    <p style="margin-top: 20px;">Vitesse de navigation : <strong>5000 Mbps</strong> gr√¢ce au M5 Ultra Fusion</p>
                `
            },
            'mi-control': {
                title: 'Mi Control',
                content: `
                    <h2>Mi Control - Centre de Contr√¥le HyperOS</h2>
                    <p>G√©rez tous vos appareils Xiaomi depuis une interface unifi√©e.</p>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0;">
                        <div style="background: rgba(255,105,0,0.2); padding: 20px; border-radius: 10px; text-align: center;">
                            <h3>üè† Maison</h3>
                            <p>12 appareils connect√©s</p>
                        </div>
                        <div style="background: rgba(255,105,0,0.2); padding: 20px; border-radius: 10px; text-align: center;">
                            <h3>üì± Mobile</h3>
                            <p>Mi 14 Ultra connect√©</p>
                        </div>
                        <div style="background: rgba(255,105,0,0.2); padding: 20px; border-radius: 10px; text-align: center;">
                            <h3>‚åö Wearables</h3>
                            <p>Mi Band 9 synchronis√©</p>
                        </div>
                        <div style="background: rgba(255,105,0,0.2); padding: 20px; border-radius: 10px; text-align: center;">
                            <h3>üéß Audio</h3>
                            <p>Buds 5 Pro actifs</p>
                        </div>
                    </div>
                `
            },
            'final-cut': {
                title: 'Final Cut Pro',
                content: `
                    <h2>Final Cut Pro X - √âdition Vid√©o Professionnelle</h2>
                    <p>Montage vid√©o acc√©l√©r√© par l'IA avec support 8K HDR</p>
                    <div style="background: rgba(182,32,224,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h3>Projet en cours</h3>
                        <p>üìπ "StarYAM Edition Showcase.fcpx"<br>
                        Dur√©e : 03:45<br>
                        R√©solution : 8K ProRes<br>
                        FPS : 120</p>
                    </div>
                    <p>Performance de rendu : <strong>10x plus rapide</strong> avec RTX 6090 Super</p>
                `
            },
            'hyperos-settings': {
                title: 'HyperOS Settings',
                content: `
                    <h2>Param√®tres HyperOS</h2>
                    <div style="space-y: 15px;">
                        <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <h3>üé® Personnalisation</h3>
                            <p>Th√®me : StarYAM Dark<br>Accent : Bleu/Orange gradient</p>
                        </div>
                        <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <h3>‚ö° Performance</h3>
                            <p>Mode : Ultra Performance<br>GPU Boost : Activ√©<br>RAM : 128GB DDR6</p>
                        </div>
                        <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <h3>üîê S√©curit√©</h3>
                            <p>Face ID : Activ√©<br>Chiffrement : AES-512<br>VPN : StarYAM Secure</p>
                        </div>
                        <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <h3>üéµ Audio</h3>
                            <p>Musique de fond : Silhouettes (Original Mix)<br>
                            <button onclick="window.toggleAudioFromApp()" style="margin-top: 10px; padding: 5px 15px; background: rgba(255,105,0,0.3); border: 1px solid rgba(255,105,0,0.5); border-radius: 5px; color: white; cursor: pointer;">
                                Activer/D√©sactiver la musique
                            </button></p>
                        </div>
                    </div>
                `
            },
            'app-store': {
                title: 'App Store',
                content: `
                    <h2>App Store - Des millions d'apps optimis√©es</h2>
                    <p>D√©couvrez les meilleures applications pour MacOS 16 x HyperOS 3</p>
                    <div style="margin: 20px 0;">
                        <h3>üî• Tendances</h3>
                        <div style="background: rgba(0,122,255,0.1); padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <strong>HyperOS Tools Pro</strong><br>
                            Utilitaires syst√®me avanc√©s - Gratuit
                        </div>
                        <div style="background: rgba(0,122,255,0.1); padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <strong>StarYAM Creator Suite</strong><br>
                            Cr√©ation de contenu IA - 49,99‚Ç¨
                        </div>
                        <div style="background: rgba(0,122,255,0.1); padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <strong>Fusion Gaming Hub</strong><br>
                            Jeux RTX optimis√©s - Gratuit
                        </div>
                    </div>
                `
            },
            'mishare': {
                title: 'MiShare',
                content: `
                    <h2>MiShare - Partage Ultra Rapide</h2>
                    <p>Transf√©rez des fichiers √† la vitesse de la lumi√®re entre tous vos appareils</p>
                    <div style="text-align: center; margin: 30px 0;">
                        <div style="width: 150px; height: 150px; margin: 0 auto; background: linear-gradient(45deg, #FF6900, #007AFF); border-radius: 20px; display: flex; align-items: center; justify-content: center; font-size: 60px;">
                            üì§
                        </div>
                        <p style="margin-top: 20px;">Glissez vos fichiers ici</p>
                    </div>
                    <p>Vitesse de transfert : <strong>10 Gbps</strong><br>
                    Appareils √† proximit√© : iPhone 16 Pro Max, Mi Pad 7</p>
                `
            },
            'terminal': {
                title: 'Terminal',
                content: `
                    <h2>Terminal - StarYAM Shell</h2>
                    <div style="background: black; padding: 20px; border-radius: 8px; font-family: 'Courier New', monospace; color: #00ff00;">
                        <p>StarYAM-MacOS:~ adel$ system_info</p>
                        <p>System: MacOS 16 x HyperOS 3 - StarYAM Edition</p>
                        <p>CPU: Apple M5 Ultra Fusion @ 5.0GHz</p>
                        <p>GPU: NVIDIA RTX 6090 Super 48GB</p>
                        <p>RAM: 128GB DDR6 @ 8400MHz</p>
                        <p>Storage: 8TB NVMe Gen5</p>
                        <p>Uptime: 42 days, 13:37:00</p>
                        <p><br>StarYAM-MacOS:~ adel$ <span style="animation: blink 1s infinite;">_</span></p>
                    </div>
                    <style>
                        @keyframes blink {
                            0%, 50% { opacity: 1; }
                            51%, 100% { opacity: 0; }
                        }
                    </style>
                `
            },
            'music': {
                title: 'Music',
                content: `
                    <h2>Music - Votre Univers Musical</h2>
                    <div style="text-align: center; margin: 20px 0;">
                        <div style="width: 200px; height: 200px; margin: 0 auto; background: linear-gradient(45deg, #FA2D48, #F95C87); border-radius: 20px; display: flex; align-items: center; justify-content: center; font-size: 80px;">
                            üéµ
                        </div>
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 10px;">
                        <h3>En cours de lecture</h3>
                        <p><strong>Silhouettes (Original Mix)</strong><br>
                        Artiste : StarYAM Sound<br>
                        Album : Fusion Beats<br>
                        Qualit√© : Lossless 24-bit/192kHz</p>
                    </div>
                    <div style="margin-top: 20px;">
                        <p>Volume</p>
                        <input type="range" id="volumeControl" min="0" max="100" value="50" style="width: 100%; margin: 10px 0;">
                        <div style="display: flex; gap: 10px; margin-top: 10px;">
                            <button onclick="window.toggleAudioFromApp()" style="padding: 10px 20px; background: linear-gradient(45deg, #FA2D48, #F95C87); border: none; border-radius: 8px; color: white; cursor: pointer;">
                                ‚èØÔ∏è Play/Pause
                            </button>
                        </div>
                    </div>
                    <p style="margin-top: 20px;">Audio spatial Dolby Atmos activ√©</p>
                `
            },
            'tictactoe': {
                title: 'Tic Tac Toe',
                init: initTicTacToe
            },
            'game2048': {
                title: '2048',
                init: init2048
            },
            'connect4': {
                title: 'Puissance 4',
                init: initConnect4
            },
            'snake': {
                title: 'Snake',
                init: initSnake
            },
            'tetris': {
                title: 'Tetris',
                init: initTetris
            },
            'memory': {
                title: 'Memory',
                init: initMemory
            }
        };

        // Fonction pour ouvrir une application
        function openApp(appName) {
            const window = document.getElementById('appWindow');
            const overlay = document.getElementById('overlay');
            const title = document.getElementById('windowTitle');
            const content = document.getElementById('windowContent');
            
            const appData = appContents[appName];
            if (appData) {
                title.textContent = appData.title;
                
                if (appData.init) {
                    currentGame = appName;
                    appData.init();
                } else {
                    content.innerHTML = appData.content;
                }
                
                overlay.classList.add('active');
                window.classList.add('active');
            }
        }

        // Fonction pour fermer l'application
        function closeApp() {
            const window = document.getElementById('appWindow');
            const overlay = document.getElementById('overlay');
            
            // Clear game loops if any
            if (gameState.gameLoop) {
                clearInterval(gameState.gameLoop);
            }
            
            window.classList.remove('active');
            overlay.classList.remove('active');
            currentGame = null;
        }

        // Keyboard controls for games
        document.addEventListener('keydown', (e) => {
            if (currentGame === 'game2048') {
                switch(e.key) {
                    case 'ArrowUp':
                        e.preventDefault();
                        move2048('up');
                        break;
                    case 'ArrowDown':
                        e.preventDefault();
                        move2048('down');
                        break;
                    case 'ArrowLeft':
                        e.preventDefault();
                        move2048('left');
                        break;
                    case 'ArrowRight':
                        e.preventDefault();
                        move2048('right');
                        break;
                }
            } else if (currentGame === 'snake' && gameState.gameLoop) {
                switch(e.key) {
                    case 'ArrowUp':
                        e.preventDefault();
                        if (gameState.direction.y === 0) {
                            gameState.direction = { x: 0, y: -1 };
                        }
                        break;
                    case 'ArrowDown':
                        e.preventDefault();
                        if (gameState.direction.y === 0) {
                            gameState.direction = { x: 0, y: 1 };
                        }
                        break;
                    case 'ArrowLeft':
                        e.preventDefault();
                        if (gameState.direction.x === 0) {
                            gameState.direction = { x: -1, y: 0 };
                        }
                        break;
                    case 'ArrowRight':
                        e.preventDefault();
                        if (gameState.direction.x === 0) {
                            gameState.direction = { x: 1, y: 0 };
                        }
                        break;
                }
            }
        });

        // Attacher les √©v√©nements de clic aux applications
        document.addEventListener('DOMContentLoaded', function() {
            const appCards = document.querySelectorAll('.app-card');
            appCards.forEach(card => {
                card.addEventListener('click', function() {
                    // Effet de clic
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                        const appName = this.getAttribute('data-app');
                        openApp(appName);
                    }, 100);
                });
            });
            
            // Fermer la fen√™tre en cliquant sur l'overlay
            document.getElementById('overlay').addEventListener('click', closeApp);
            
            // Fermer avec la touche Escape
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeApp();
                }
            });
        });
    </script>
</body>
</html>
